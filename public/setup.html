<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FiatLux - –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üí°</text></svg>">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .setup-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 500px;
            width: 100%;
            padding: 40px;
        }

        .logo {
            text-align: center;
            font-size: 64px;
            margin-bottom: 20px;
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 10px;
            font-size: 28px;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 14px;
        }

        .step {
            display: none;
        }

        .step.active {
            display: block;
        }

        .step-indicator {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            gap: 10px;
        }

        .step-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #ddd;
            transition: all 0.3s ease;
        }

        .step-dot.active {
            background: #667eea;
            transform: scale(1.3);
        }

        .step-dot.completed {
            background: #10b981;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 500;
        }

        .help-text {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }

        .help-link {
            color: #667eea;
            text-decoration: none;
        }

        .help-link:hover {
            text-decoration: underline;
        }

        input[type="text"],
        input[type="password"],
        input[type="tel"] {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        input:focus {
            outline: none;
            border-color: #667eea;
        }

        .btn {
            width: 100%;
            padding: 14px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover:not(:disabled) {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #e5e7eb;
            color: #333;
            margin-top: 10px;
        }

        .btn-secondary:hover:not(:disabled) {
            background: #d1d5db;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .alert {
            padding: 12px 16px;
            border-radius: 10px;
            margin-bottom: 20px;
            display: none;
        }

        .alert.show {
            display: block;
        }

        .alert-error {
            background: #fee2e2;
            color: #991b1b;
            border: 1px solid #fca5a5;
        }

        .alert-success {
            background: #d1fae5;
            color: #065f46;
            border: 1px solid #86efac;
        }

        .alert-info {
            background: #dbeafe;
            color: #1e40af;
            border: 1px solid #93c5fd;
        }

        .loading {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 8px;
            vertical-align: middle;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .success-icon {
            text-align: center;
            font-size: 80px;
            animation: bounce 1s ease;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-20px); }
            60% { transform: translateY(-10px); }
        }

        .info-box {
            background: #f9fafb;
            border-left: 4px solid #667eea;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 8px;
        }

        .info-box p {
            margin: 5px 0;
            font-size: 14px;
            color: #4b5563;
        }

        .phone-input-group {
            display: flex;
            gap: 10px;
        }

        .phone-input-group input[type="text"] {
            flex: 1;
        }

        .phone-prefix {
            padding: 12px 16px;
            background: #f9fafb;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            font-size: 16px;
            color: #666;
            min-width: 60px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="setup-container">
        <div class="logo">üí°</div>
        <h1>–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è FiatLux</h1>
        <p class="subtitle">–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ Telegram API</p>

        <div class="step-indicator">
            <div class="step-dot active" data-step="1"></div>
            <div class="step-dot" data-step="2"></div>
            <div class="step-dot" data-step="3"></div>
        </div>

        <div id="alertContainer"></div>

        <!-- Step 1: API Credentials -->
        <div class="step active" data-step="1">
            <div class="info-box">
                <p><strong>–ö—Ä–æ–∫ 1:</strong> –û—Ç—Ä–∏–º–∞–Ω–Ω—è API_ID —Ç–∞ API_HASH</p>
                <p>1. –í—ñ–¥–≤—ñ–¥–∞–π—Ç–µ <a href="https://my.telegram.org" target="_blank" class="help-link">my.telegram.org</a></p>
                <p>2. –£–≤—ñ–π–¥—ñ—Ç—å —É —Å–≤—ñ–π Telegram –∞–∫–∞—É–Ω—Ç</p>
                <p>3. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ "API development tools"</p>
                <p>4. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤—É –∞–ø–ª—ñ–∫–∞—Ü—ñ—é</p>
            </div>

            <form id="credentialsForm">
                <div class="form-group">
                    <label for="apiId">API ID</label>
                    <input type="text" id="apiId" placeholder="12345678" required>
                    <div class="help-text">–ß–∏—Å–ª–æ –∑ —Å–∞–π—Ç—É my.telegram.org</div>
                </div>

                <div class="form-group">
                    <label for="apiHash">API Hash</label>
                    <input type="text" id="apiHash" placeholder="1234567890abcdef..." required>
                    <div class="help-text">32-—Å–∏–º–≤–æ–ª—å–Ω–∏–π —Ö–µ—à –∑ my.telegram.org</div>
                </div>

                <button type="submit" class="btn btn-primary">–î–∞–ª—ñ</button>
            </form>
        </div>

        <!-- Step 2: Phone Number -->
        <div class="step" data-step="2">
            <div class="info-box">
                <p><strong>–ö—Ä–æ–∫ 2:</strong> –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è –≤ Telegram</p>
                <p>–í–≤–µ–¥—ñ—Ç—å —Å–≤—ñ–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É, –ø—Ä–∏–≤'—è–∑–∞–Ω–∏–π –¥–æ Telegram</p>
            </div>

            <form id="phoneForm">
                <div class="form-group">
                    <label for="phoneNumber">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É</label>
                    <div class="phone-input-group">
                        <div class="phone-prefix">+380</div>
                        <input type="tel" id="phoneNumber" placeholder="501234567" required>
                    </div>
                    <div class="help-text">–í–≤–µ–¥—ñ—Ç—å –Ω–æ–º–µ—Ä –±–µ–∑ +380</div>
                </div>

                <button type="submit" class="btn btn-primary">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –∫–æ–¥</button>
                <button type="button" class="btn btn-secondary" onclick="goToStep(1)">–ù–∞–∑–∞–¥</button>
            </form>
        </div>

        <!-- Step 3: Verification Code -->
        <div class="step" data-step="3">
            <div class="info-box" id="step3Info">
                <p><strong>–ö—Ä–æ–∫ 3:</strong> –ö–æ–¥ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è</p>
                <p>Telegram –Ω–∞–¥—ñ—Å–ª–∞–≤ –≤–∞–º –∫–æ–¥. –í–≤–µ–¥—ñ—Ç—å –π–æ–≥–æ –Ω–∏–∂—á–µ.</p>
            </div>

            <form id="codeForm">
                <div class="form-group">
                    <label for="verificationCode">–ö–æ–¥ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è</label>
                    <input type="text" id="verificationCode" placeholder="12345" required>
                    <div class="help-text">5-–∑–Ω–∞—á–Ω–∏–π –∫–æ–¥ –∑ Telegram</div>
                </div>

                <button type="submit" class="btn btn-primary">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏</button>
                <button type="button" class="btn btn-secondary" onclick="goToStep(2)">–ù–∞–∑–∞–¥</button>
            </form>

            <!-- 2FA Password Form (hidden by default) -->
            <form id="passwordForm" style="display: none;">
                <div class="form-group">
                    <label for="password2fa">–ü–∞—Ä–æ–ª—å –¥–≤–æ—Ñ–∞–∫—Ç–æ—Ä–Ω–æ—ó –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó</label>
                    <input type="password" id="password2fa" placeholder="–í–∞—à –ø–∞—Ä–æ–ª—å Telegram" required>
                    <div class="help-text">–£ –≤–∞—Å —É–≤—ñ–º–∫–Ω–µ–Ω–∞ –¥–≤–æ—Ñ–∞–∫—Ç–æ—Ä–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è</div>
                </div>

                <button type="submit" class="btn btn-primary">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏</button>
            </form>
        </div>

        <!-- Success Step -->
        <div class="step" data-step="success">
            <div class="success-icon">‚úÖ</div>
            <h2 style="text-align: center; margin: 20px 0; color: #10b981;">–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–∞–≤–µ—Ä—à–µ–Ω–æ!</h2>
            <div class="alert alert-success show">
                <strong>–£—Å–ø—ñ—à–Ω–æ!</strong> SESSION_STRING –∑–±–µ—Ä–µ–∂–µ–Ω–æ.
            </div>
            <div id="restartStatus" style="text-align: center; margin: 20px 0;">
                <span class="loading"></span> –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤—ñ—Å—É...
            </div>
            <button id="goMainBtn" class="btn btn-primary" style="display:none" onclick="window.location.href='/'">–ü–µ—Ä–µ–π—Ç–∏ –¥–æ –≥–æ–ª–æ–≤–Ω–æ—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏</button>
        </div>
    </div>

    <script>
        const API_BASE = window.location.origin;
        let currentStep = 1;
        let sessionId = null;

        // Check if already configured
        async function checkSetupStatus() {
            try {
                const response = await fetch(`${API_BASE}/api/setup/status`);
                const data = await response.json();
                
                if (data.success && data.data.configured) {
                    // Already configured, redirect to main page
                    showAlert('–°–µ—Ä–≤—ñ—Å –≤–∂–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ!', 'info');
                    setTimeout(() => window.location.href = '/', 2000);
                }
            } catch (error) {
                console.error('Failed to check setup status:', error);
            }
        }

        // Show alert
        function showAlert(message, type = 'error') {
            const container = document.getElementById('alertContainer');
            container.innerHTML = `
                <div class="alert alert-${type} show">
                    ${message}
                </div>
            `;
            setTimeout(() => {
                container.innerHTML = '';
            }, 5000);
        }

        // Go to step
        function goToStep(step) {
            const steps = document.querySelectorAll('.step');
            steps.forEach(s => s.classList.remove('active'));
            
            const targetStep = document.querySelector(`.step[data-step="${step}"]`);
            if (targetStep) {
                targetStep.classList.add('active');
                currentStep = step;
                updateStepIndicator();
            }
        }

        // Update step indicator
        function updateStepIndicator() {
            const dots = document.querySelectorAll('.step-dot');
            dots.forEach((dot, index) => {
                const dotStep = index + 1;
                dot.classList.remove('active', 'completed');
                
                if (dotStep < currentStep) {
                    dot.classList.add('completed');
                } else if (dotStep === currentStep) {
                    dot.classList.add('active');
                }
            });
        }

        // Handle credentials form
        document.getElementById('credentialsForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const apiId = document.getElementById('apiId').value.trim();
            const apiHash = document.getElementById('apiHash').value.trim();
            
            if (!apiId || !apiHash) {
                showAlert('–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å —É—Å—ñ –ø–æ–ª—è');
                return;
            }

            const submitBtn = e.target.querySelector('button[type="submit"]');
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<span class="loading"></span>–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è...';

            try {
                const response = await fetch(`${API_BASE}/api/setup/credentials`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ apiId, apiHash }),
                });

                const data = await response.json();

                if (data.success) {
                    showAlert('Credentials saved successfully!', 'success');
                    setTimeout(() => goToStep(2), 1000);
                } else {
                    showAlert(data.error || '–ü–æ–º–∏–ª–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è credentials');
                }
            } catch (error) {
                showAlert('Network error: ' + error.message);
            } finally {
                submitBtn.disabled = false;
                submitBtn.innerHTML = '–î–∞–ª—ñ';
            }
        });

        // Handle phone form
        document.getElementById('phoneForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const phoneNumber = '+380' + document.getElementById('phoneNumber').value.trim();
            
            if (!phoneNumber) {
                showAlert('–í–≤–µ–¥—ñ—Ç—å –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É');
                return;
            }

            const submitBtn = e.target.querySelector('button[type="submit"]');
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<span class="loading"></span>–ù–∞–¥—Å–∏–ª–∞–Ω–Ω—è...';

            try {
                const response = await fetch(`${API_BASE}/api/setup/auth/start`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ phoneNumber }),
                });

                const data = await response.json();

                if (data.success) {
                    sessionId = data.data.sessionId;
                    showAlert('–ö–æ–¥ –Ω–∞–¥—ñ—Å–ª–∞–Ω–æ –Ω–∞ –≤–∞—à Telegram!', 'success');
                    setTimeout(() => goToStep(3), 1000);
                } else {
                    showAlert(data.error || '–ü–æ–º–∏–ª–∫–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ –∫–æ–¥—É');
                }
            } catch (error) {
                showAlert('Network error: ' + error.message);
            } finally {
                submitBtn.disabled = false;
                submitBtn.innerHTML = '–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –∫–æ–¥';
            }
        });

        // Handle code form
        document.getElementById('codeForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const code = document.getElementById('verificationCode').value.trim();
            
            if (!code || !sessionId) {
                showAlert('–í–≤–µ–¥—ñ—Ç—å –∫–æ–¥ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è');
                return;
            }

            const submitBtn = e.target.querySelector('button[type="submit"]');
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<span class="loading"></span>–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞...';

            try {
                const response = await fetch(`${API_BASE}/api/setup/auth/code`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ sessionId, code }),
                });

                const data = await response.json();

                if (data.success) {
                    if (data.data.success) {
                        // Success!
                        showAlert('–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è —É—Å–ø—ñ—à–Ω–∞!', 'success');
                        goToStep('success');
                        restartAndRedirect();
                    } else if (data.data.needsPassword) {
                        // Need 2FA password
                        document.getElementById('codeForm').style.display = 'none';
                        document.getElementById('passwordForm').style.display = 'block';
                        document.getElementById('step3Info').innerHTML = `
                            <p><strong>–ö—Ä–æ–∫ 3:</strong> –î–≤–æ—Ñ–∞–∫—Ç–æ—Ä–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è</p>
                            <p>–í–≤–µ–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó.</p>
                        `;
                    }
                } else {
                    showAlert(data.error || '–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –∫–æ–¥');
                }
            } catch (error) {
                showAlert('Network error: ' + error.message);
            } finally {
                submitBtn.disabled = false;
                submitBtn.innerHTML = '–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏';
            }
        });

        // Handle 2FA password form
        document.getElementById('passwordForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const password = document.getElementById('password2fa').value;
            
            if (!password || !sessionId) {
                showAlert('–í–≤–µ–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å');
                return;
            }

            const submitBtn = e.target.querySelector('button[type="submit"]');
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<span class="loading"></span>–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞...';

            try {
                const response = await fetch(`${API_BASE}/api/setup/auth/password`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ sessionId, password }),
                });

                const data = await response.json();

                if (data.success && data.data.success) {
                    showAlert('–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è —É—Å–ø—ñ—à–Ω–∞!', 'success');
                    goToStep('success');
                    restartAndRedirect();
                } else {
                    showAlert(data.error || '–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø–∞—Ä–æ–ª—å');
                }
            } catch (error) {
                showAlert('Network error: ' + error.message);
            } finally {
                submitBtn.disabled = false;
                submitBtn.innerHTML = '–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏';
            }
        });

        // –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤—ñ—Å—É —Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ø–µ—Ä–µ—Ö—ñ–¥ –Ω–∞ –≥–æ–ª–æ–≤–Ω—É
        async function restartAndRedirect() {
            const statusEl = document.getElementById('restartStatus');
            const goBtn = document.getElementById('goMainBtn');
            
            try {
                await fetch(`${API_BASE}/api/setup/restart`, { method: 'POST' });
            } catch (e) {
                // –û—á—ñ–∫—É–≤–∞–Ω–æ ‚Äî —Å–µ—Ä–≤–µ—Ä –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è
            }
            
            statusEl.innerHTML = '<span class="loading"></span> –û—á—ñ–∫—É–≤–∞–Ω–Ω—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É...';
            
            // –ß–µ–∫–∞—î–º–æ –ø–æ–∫–∏ —Å–µ—Ä–≤—ñ—Å –∑–Ω–æ–≤—É —Å—Ç–∞–Ω–µ –¥–æ—Å—Ç—É–ø–Ω–∏–º (–¥–æ 30 —Å–µ–∫)
            let attempts = 0;
            const maxAttempts = 30;
            const checkInterval = setInterval(async () => {
                attempts++;
                try {
                    const resp = await fetch(`${API_BASE}/api/health`, { signal: AbortSignal.timeout(2000) });
                    const health = await resp.json();
                    if (health.telegramConnected) {
                        clearInterval(checkInterval);
                        statusEl.innerHTML = '‚úÖ –°–µ—Ä–≤—ñ—Å –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–æ, Telegram –ø—ñ–¥–∫–ª—é—á–µ–Ω–æ!';
                        statusEl.style.color = '#10b981';
                        goBtn.style.display = 'block';
                        setTimeout(() => { window.location.href = '/'; }, 2000);
                    } else if (attempts >= maxAttempts) {
                        clearInterval(checkInterval);
                        statusEl.innerHTML = '‚ö†Ô∏è –°–µ—Ä–≤—ñ—Å –∑–∞–ø—É—â–µ–Ω–æ, –∞–ª–µ Telegram —â–µ –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è...';
                        statusEl.style.color = '#f59e0b';
                        goBtn.style.display = 'block';
                    }
                } catch (e) {
                    // –°–µ—Ä–≤—ñ—Å —â–µ –Ω–µ –≥–æ—Ç–æ–≤–∏–π
                    if (attempts >= maxAttempts) {
                        clearInterval(checkInterval);
                        statusEl.innerHTML = '‚ö†Ô∏è –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –º–æ–∂–µ —Ç—Ä–∏–≤–∞—Ç–∏ –¥–æ–≤—à–µ. –°–ø—Ä–æ–±—É–π—Ç–µ –æ–Ω–æ–≤–∏—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É.';
                        statusEl.style.color = '#f59e0b';
                        goBtn.style.display = 'block';
                    }
                }
            }, 1000);
        }

        // Check status on load
        checkSetupStatus();
    </script>
</body>
</html>
